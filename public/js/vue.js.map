{"version":3,"sources":["admin.releases.edit.js","admin.releases.edit.2.js"],"names":[],"mappings":"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","file":"vue.js","sourcesContent":["var FormatCheckboxes = Vue.extend({\n    props: ['formats', 'format_ids'],\n    methods: {\n        toggle_format: function(elem)\n        {\n            var i = vm.selected_formats.indexOf(elem.id);\n            if (i === -1)\n                vm.selected_formats.push(elem.id);\n            else\n                vm.selected_formats.splice(i,1);\n        }\n    },\n    template: `\n    <template v-for=\"format in formats\">\n        <template v-if=\"format_ids.indexOf(format.id) > -1\">\n            <input type=\"checkbox\"\n                   class=\"format_chk\"\n                   name=\"formats[]\"\n                   value=\"{{ format.id }}\"\n                   @click=\"this.toggle_format(format)\"\n                   checked />\n            {{ format.name }}\n        </template>\n        <template v-if=\"format_ids.indexOf(format.id) < 0\">\n            <input type=\"checkbox\"\n                   class=\"format_chk\"\n                   multiple\n                   name=\"formats[]\"\n                   @click=\"this.toggle_format(format)\"\n                   value=\"{{ format.id }}\" />\n            {{ format.name }}\n        </template>\n        <br />\n    </template>\n    `\n})\n\n\nvar TracklistEditor = Vue.extend({\n    props: ['tracks', 'format', 'token'],\n    methods: {\n        editTrack: function(elem, csrf)\n        {\n            trackname = $('.trackname-'+elem.id).val();\n            $.ajax({\n                url: '/admin/releases/editTrack',\n                type: 'PATCH',\n                data: {\n                    track_id: elem.id,\n                    track_name: trackname,\n                    _token: csrf\n                },\n                success: function() {\n\n                }\n            });\n        },\n        deleteTrack: function(elem, csrf)\n        {\n            this.tracks.$remove(elem);\n\n            $.ajax({\n                url: '/admin/releases/deleteTrack',\n                type: 'DELETE',\n                data: {\n                    track_id: elem.id,\n                    _token: csrf\n                },\n                success: function() {\n\n                }\n            });\n        },\n        addTrack: function(data)\n        {\n            if ( ! $('#track_format_id').val() )\n            {\n                alert('Choose a tracklist format using the dropdown first!');\n                return false;\n            }\n\n            data = {\n                title:      $('#track_title').val(),\n                release_id: $('#release_id').val(),\n                format_id:  $('#track_format_id').val(),\n                _token:     this.token\n            }\n            this.tracks.push(data);\n\n            $.ajax({\n                url: '/admin/releases/addTrack',\n                type: 'POST',\n                data: data,\n                success: function() {\n                    // alert('BAD WOLF');\n                }\n            });\n        }\n    },\n    template: `\n    <ul id=\"list_main\" class=\"sortable\">\n        <li v-for=\"track in tracks | exactFilterBy format in 'format_id'| orderBy 'volume_no' 'side_no' 'track_no'\"  id=\"{{ track.id }}\">\n\n            <input class=\"trackname-{{ track.id  }}\" value=\"{{ track.title }}\" />{{ track.is_live }}\n            <span class=\"list_btns\">\n                <a id=\"{{ track.id }}\"\n                   @click=\"editTrack(track, token)\">Edit</a>\n                <a class=\"list_delete\"\n                   @click=\"deleteTrack(track, token)\">Delete</a>\n            </span>\n        </li>\n    </ul>\n    <label>Add a track: </label>\n    <input type=\"text\"\n           id=\"track_title\" />\n    <input type=\"button\"\n           value=\"Add Track\"\n           id=\"add_track\"\n           @click=\"addTrack\"/>\n    `\n})\n\nvar LinkAdder = Vue.extend({\n    data: {\n        uk_link: [],\n        us_link: []\n    },\n    props: ['format_ids', 'formats', 'release_id', 'token', 'links', 'selected_formats', 'tshirts'],\n    computed: {\n        currentFormats: function() {\n            return this.formats.filter(format => {\n                return this.selected_formats.indexOf(format.id) > -1;\n            });\n        }\n    },\n    methods: {\n        addLinks: function(id, where, csrf) {\n            $.ajax({\n                url: '/admin/releases/addLink',\n                type: 'POST',\n                data: {\n                    release_id: this.release_id,\n                    format_id: id,\n                    where: where,\n                    link: $('#' + where + '_link' + id).val(),\n                    _token: csrf\n                },\n                success: () =>\n                {\n                    vm.fetchRelease(this.release_id);\n                }\n            });\n        },\n\n        deleteLinks: function(id, csrf) {\n            $.ajax({\n                url: '/admin/releases/deleteLinks',\n                type: 'DELETE',\n                data: {\n                    link_id: id,\n                    _token: csrf\n                },\n                success: () =>\n                {\n                    vm.fetchRelease(this.release_id);\n                }\n            })\n        }\n    },\n    template: `\n    <ul id=\"existingLinks\">\n        <li v-for=\"link in links\">\n            {{ link.format.name }} : {{ link.uk_link || '[none]' }} (UK), {{ link.us_link || '[none]' }} (US)\n            <input type=\"button\" value=\"delete\" class=\"delete_links\" @click=\"deleteLinks(link.id, token)\"/>\n         </li>\n    </ul>\n\n    Tshirts: {{ tshirts ? '1' : '0' }}\n\n    <ul id=\"links\">\n        <li v-for=\"format in currentFormats\">\n            <label>Add {{ format.name }} link: </label>\n\n            <input id=\"uk_link{{format.id}}\"\n               type=\"text\"\n               placeholder=\"uk link\"/>\n            <input type=\"button\"\n               value=\"add UK\"\n               class=\"add_links_uk\"\n               @click=\"addLinks(format.id, 'uk', token)\"/>\n\n             <input id=\"us_link{{format.id}}\"\n               type=\"text\"\n               placeholder=\"us_link\"/>\n             <input type=\"button\"\n               value=\"add US\"\n               class=\"add_links_us\"\n               @click=\"addLinks(format.id, 'us', token)\"/>\n        </li>\n    </ul>\n\n    `\n})\n\nvar BuylinkAdder = Vue.extend({\n    props: ['buylinks', 'token', 'release_id'],\n    methods: {\n        addBuylink: function(data)\n        {\n            $.ajax({\n                url: '/admin/releases/addBuylink',\n                type: 'POST',\n                data: data,\n                success: (response) => {\n                    data.id = response.id;\n                    data.is_live = true;\n                    this.buylinks.push(data);\n                }\n            });\n        },\n        toggleBuylink: function(elem, csrf)\n        {\n            elem.is_live = ! elem.is_live;\n\n            $.ajax({\n                url: '/admin/releases/toggleBuylink',\n                type: 'POST',\n                data: { buylink_id: elem.id,\n                    is_live: elem.is_live,\n                    _token: csrf }\n            });\n        },\n        deleteBuylink: function(elem, csrf)\n        {\n            this.buylinks.$remove(elem);\n            $.ajax({\n                url: '/admin/releases/deleteBuylink',\n                type: 'DELETE',\n                data: {\n                    buylink_id: elem.id,\n                    _token: csrf }\n            });\n        }\n    },\n    template: `\n    <ul id=\"list_main\">\n        <li v-for=\"buylink in buylinks\" :class=\"{'hidden' : !buylink.is_live }\">\n            <a class=\"reorder\">\n                <img src=\"/images/admin/nav.png\" alt=\"reorder\" />\n            </a>\n            {{ buylink.retailer }} - {{ buylink.link }}\n            <span class=\"list_btns\">\n                <a class=\"list_hide\"\n                   @click=\"toggleBuylink(buylink, token)\">{{ buylink.is_live? '' : 'Un-' }}Hide</a>\n                <a class=\"list_delete\"\n                   @click=\"deleteBuylink(buylink, token)\">Delete</a>\n            </span>\n        </li>\n    </ul>\n    <label>Add a link: </label>\n        <input id=\"retailer\"\n               type=\"text\"\n               placeholder=\"Retailer Name\"\n               v-model=\"retailer\">\n        <input id=\"link\"\n               type=\"text\"\n               placeholder=\"link\"\n               v-model=\"link\">\n        <input type=\"button\"\n               value=\"add\"\n               id=\"add_buylink\"\n               @click=\"addBuylink({\n                 retailer: retailer,\n                 link: link,\n                 release_id: release_id,\n                 _token: token\n               })\">\n    `\n})\n\nvar RelatedReleaseAdder = Vue.extend({\n    props: ['related_releases', 'releases', 'release_id', 'token'],\n    methods: {\n        addRelease: function(elem, title, artist, csrf)\n        {\n            $.ajax({\n                url: '/admin/releases/addRelatedRelease',\n                type: 'POST',\n                data: {\n                    release_id: this.release_id,\n                    related_release_id: elem.id,\n                    _token: csrf\n                },\n                success: (result) =>\n                {\n                    this.related_releases.push({\n                        title: title,\n                        artist: {name: artist},\n                        packshot_url: result.packshot_url,\n                        id: result.id\n                    });\n                }\n            });\n        },\n        deleteRelease: function(elem, csrf)\n        {\n            this.related_releases.$remove(elem);\n\n            $.ajax({\n                url: '/admin/releases/deleteRelatedRelease',\n                type: 'DELETE',\n                data: {\n                    release_id: vm.id,\n                    related_release_id: elem.id,\n                    _token: csrf\n                }\n            });\n        }\n    },\n    template: `\n     <ul id=\"list_main\">\n        <li v-for=\"rr in related_releases\">\n            <a class=\"reorder\">\n                <img src=\"/images/admin/nav.png\"\n                     alt=\"reorder\" />\n            </a>\n            <img class=\"homepagepackshot\"\n                 :src=\"rr.packshot_url.startsWith('http')\n                 ?  rr.packshot_url\n                 :  'http://cdn.beggars.com/fourad/site/images/releases/packshots/'+rr.packshot_url\" />\n            {{ rr.artist.name }}: {{ rr.title }}\n            <span class=\"list_btns\">\n                <a class=\"list_delete\"\n                   @click=\"deleteRelease(rr, token)\">\n                   Delete\n                </a>\n            </span>\n        </li>\n    </ul>\n\n    <label>Add a release: </label>\n    <input type=\"text\"\n           placeholder=\"search\"\n           v-model=\"release_hunter\">\n    <ul>\n        <li v-for=\"r in releases | notIfEmpty release_hunter | filterBy release_hunter in 'title' 'artist_name'\"\n            @click=\"addRelease(r, r.title, r.artist.name, token)\">{{ r.title }}</li>\n    </ul>\n    `\n})\n\n\nVue.component('format-checkboxes', FormatCheckboxes);\nVue.component('tracklist-editor', TracklistEditor);\nVue.component('buylink-adder', BuylinkAdder);\nVue.component('related-release-adder', RelatedReleaseAdder);\nVue.component('link-adder', LinkAdder);\n\nVue.filter('matching_format_id', function(value, format_id) {\n   return value.filter(function(item) {\n       return item.format_id === parseInt(format_id);\n   });\n});\n\nVue.filter('format_filter', function(value) {\n    return value.filter(function(format) {\n        if (format.id === 0) return true;\n        return $.inArray(format.id, vm.selected_formats) > -1;\n    });\n});\n\nVue.filter('exactFilterBy', function(arr, needle, inKeyword, key) {\n    if (!arr) return false;\n    return arr.filter(function(i) {\n       return i[key] == needle;\n    });\n});\n\nVue.filter('filterUnlessEmpty', function(array, needle, inKeyword, key, key2) {\n    if (! needle) { return []; }\n    var needle = needle.toLowerCase();\n    return array.filter(function(item) {\n      return item[key].toLowerCase().indexOf(needle) > -1\n          || item[key2].toLowerCase().indexOf(needle) > -1;\n   });\n});\n\nVue.filter('notIfEmpty', function(array, needle) {\n   return needle ? array : [];\n});\n\nvar vm = new Vue({\n\n   el: '#vue_container',\n\n   data: {\n     artists: [],\n     artist_ids: [],\n     territories: [],\n     territory_ids: [],\n     release: [],\n     releases: [],\n     related_releases: [],\n     formats: [],\n     format_ids: [],\n     track_format: 2,\n     artist_options: [],\n     selected_formats: [],\n     links: []\n   },\n   computed: {\n       filteredTracks: function() {\n           return this.release.tracks.filter(function (track) {\n               return track.format_id === parseInt(vm.track_format);\n           });\n       }\n   },\n   ready: function() {\n      //$('#datepicker').datepicker({\n      //\n      //});\n      //$('#golivepicker').datetimepicker({\n      //    timeFormat: 'HH:mm z'\n      //});\n      //CKEDITOR.replace('pressrelease');\n      //\n      // $('#publish').click(function(e){\n      //     $('#is_live').val(1);\n      // });\n      // $('#save').click(function(e){\n      //     $('#is_live').val(0);\n      // });\n      //\n      // $('.format_chk').each(function(elem){\n      //    vm.toggle_format(elem);\n      // });\n      //\n      // this.$watch('artist_ids', function(a) {\n      //     Vue.nextTick(function() {\n      //         $('#artists').tokenize();\n      //     });\n      // });\n      //\n      //this.fetchArtists();\n      this.id = $('#release_id').val();\n      this.fetchRelease(this.id);\n      this.fetchReleases();\n      //this.fetchTerritories();\n      this.fetchFormats();\n      //\n      //this.$watch('artists', function(a) {\n      //   Vue.nextTick(function() {\n      //      $('#artists').tokenize();\n      //   });\n      //});\n      //\n      this.track_format = 2;\n   },\n\n   methods: {\n      fetchArtists: function() {\n         $.getJSON('/api/relevantArtists', function(artists) {\n            vm.artists = artists;\n            for(i=0; i < artists.length; i++) {\n             vm.artist_options.push({\n                text: artists[i].name,\n                value: artists[i].id\n             });\n            }\n         });\n      },\n       fetchRelease: function(id) {\n         $.getJSON('/api/release/'+id, function(release) {\n            vm.release = release;\n            $(release).each(function(){\n               if ($(this.artists).length === 0)\n               {\n                   vm.artist_ids.push(0);\n               }\n               $(this.artists).each(function(){\n                  vm.artist_ids.push(this.id);\n               });\n            });\n            $(release.territories).each(function () {\n                vm.territory_ids.push(this.id);\n            });\n            $(release.tracks).each(function() {\n               if ( $.inArray(this.format_id, vm.format_ids) === -1)\n               {\n                   vm.format_ids.push(this.format_id);\n                   vm.selected_formats.push(this.format_id);\n               }\n            });\n            vm.links = release.links;\n         });\n      },\n      fetchReleaseImages: function(id) {\n          $.getJSON('/api/release/'+id, function(release) {\n             vm.release.packshot_url = release.packshot_url;\n             vm.release.productshots = release.productshots;\n             vm.release.alt_desktop_header_image_url = release.alt_desktop_header_image_url;\n             vm.release.alt_mobile_header_image_url = release.alt_mobile_header_image_url;\n          });\n      },\n      fetchTerritories: function() {\n         $.getJSON('/api/territories', function(territories) {\n            vm.territories = territories;\n         });\n      },\n      fetchReleases: function() {\n          $.getJSON('/api/relevantReleases', function(releases) {\n             vm.releases = releases;\n             $(vm.releases).each(function(i) {\n                 if (! vm.releases[i].artist)\n                 { vm.releases[i].artist_name = 'Various'; }\n                 else vm.releases[i].artist_name = vm.releases[i].artist.name;\n             });\n          });\n      },\n      fetchFormats:function() {\n          $.getJSON('/api/formats', function(formats) {\n             vm.formats = formats;\n             // vm.formats.unshift({id: 0, name: 'UNIVERSAL TRACKLIST (ALL FORMATS)'});\n          });\n      },\n      fetchTracks: function(id) {\n          $.getJSON('/api/release/' + id + '/tracks', function(tracks) {\n             vm.tracks = tracks;\n             format_ids = tracks.reduce(function(a, b){\n                a.push(b);\n                return a;\n             }, []);\n             vm.format_ids = format_ids;\n          });\n      },\n      checkAllTerritories: function()\n      {\n          $('.chkterr').prop('checked', true);\n      },\n      addPackshot: function(csrf)\n      {\n        var release_id = $('#release_id').val();\n        var the_file = $('#packshot').get(0).files[0];\n\n        if (the_file.size > 2000000)\n        {\n            alert('Max filesize: 2M');\n            return false;\n        }\n\n        var formData = new FormData();\n        formData.append('_token', csrf);\n        formData.append('photofile', the_file);\n        formData.append('release_id', release_id);\n        $.ajax({\n           url: '/admin/releases/addPackshot',\n           type: 'POST',\n           data: formData,\n           cache: false,\n           contentType: false,\n           processData: false,\n           success: function() {\n               vm.fetchReleaseImages(release_id);\n           }\n        });\n      },\n      addDesktopHeader: function(csrf)\n      {\n          var release_id = $('#release_id').val();\n          var the_file = $('#alt_desktop_header_image').get(0).files[0];\n\n          if (the_file.size > 2000000)\n          {\n              alert('Max filesize: 2M');\n              return false;\n          }\n\n          var formData = new FormData();\n          formData.append('_token', csrf);\n          formData.append('photofile', the_file);\n          formData.append('release_id', release_id);\n          $.ajax({\n             url: '/admin/releases/addDesktopHeader',\n             type: 'POST',\n             data: formData,\n              cache: false,\n              contentType: false,\n              processData: false,\n              success: function() {\n                  vm.fetchReleaseImages(release_id);\n              }\n          });\n      },\n       addMobileHeader: function(csrf)\n       {\n           var release_id = $('#release_id').val();\n           var the_file = $('#alt_mobile_header_image').get(0).files[0];\n\n           if (the_file.size > 2000000)\n           {\n               alert('Max filesize: 2M');\n               return false;\n           }\n\n           var formData = new FormData();\n           formData.append('_token', csrf);\n           formData.append('photofile', the_file);\n           formData.append('release_id', release_id);\n           $.ajax({\n               url: '/admin/releases/addMobileHeader',\n               type: 'POST',\n               data: formData,\n               cache: false,\n               contentType: false,\n               processData: false,\n               success: function() {\n                   vm.fetchReleaseImages(release_id);\n               }\n           });\n       },\n       addProductShot: function(csrf)\n      {\n          var the_file = $('#productshot').get(0).files[0];\n\n          if (the_file.size > 2000000)\n          {\n              alert('Max filesize: 2M');\n              return false;\n          }\n\n          var release_id = $('#release_id').val();\n\n          var formData = new FormData();\n          formData.append('_token', csrf);\n          formData.append('photofile', the_file);\n          formData.append('release_id', release_id);\n          $.ajax({\n             url: '/admin/releases/addProductShot',\n             type: 'POST',\n             data: formData,\n             cache: false,\n             contentType: false,\n             processData: false,\n             success: function() {\n                vm.fetchReleaseImages(release_id);\n             }\n          });\n      },\n      addBuylink: function(data)\n      {\n          var release_id = $('#release_id').val();\n\n          $.ajax({\n             url: '/admin/releases/addBuylink',\n             type: 'POST',\n             data: data,\n             success: function(response) {\n                 data.id = response.id;\n                 data.is_live = true;\n                 vm.release.buylinks.push(data);\n             }\n          });\n      },\n      //toggleBuylink: function(elem, csrf)\n      //{\n      //    elem.is_live = ! elem.is_live;\n      //\n      //    $.ajax({\n      //       url: '/admin/releases/toggleBuylink',\n      //       type: 'POST',\n      //       data: { buylink_id: elem.id,\n      //               is_live: elem.is_live,\n      //               _token: csrf }\n      //    });\n      //},\n      //deleteBuylink: function(elem, csrf)\n      //{\n      //    vm.release.buylinks.$remove(elem);\n      //    $.ajax({\n      //       url: '/admin/releases/deleteBuylink',\n      //       type: 'DELETE',\n      //       data: { buylink_id: elem.id,\n      //               _token: csrf }\n      //    });\n      //},\n      //addTrack: function(data)\n      //{\n      //    $.ajax({\n      //       url: '/admin/releases/addTrack',\n      //       type: 'POST',\n      //       data: data,\n      //       success: function() {\n      //          // alert('BAD WOLF');\n      //       }\n      //    });\n      //},\n      //editTrack: function(elem, csrf)\n      //{\n      //  trackname = $('.trackname-'+elem.id).val();\n      //  $.ajax({\n      //     url: '/admin/releases/editTrack',\n      //     type: 'PATCH',\n      //     data: {\n      //             track_id: elem.id,\n      //             track_name: trackname,\n      //             _token: csrf\n      //           },\n      //     success: function() {\n      //\n      //     }\n      //  });\n      //},\n      //deleteTrack: function(elem, csrf)\n      //{\n      //    vm.release.tracks.$remove(elem);\n      //\n      //    $.ajax({\n      //       url: '/admin/releases/deleteTrack',\n      //       type: 'DELETE',\n      //       data: { track_id: elem.id,\n      //               _token: csrf },\n      //       success: function() {\n      //\n      //       }\n      //    });\n      //},\n      //toggle_format: function(elem)\n      //{\n      //    var i = vm.selected_formats.indexOf(elem.id);\n      //    if (i === -1)\n      //        vm.selected_formats.push(elem.id);\n      //    else\n      //        vm.selected_formats.splice(i,1);\n      //},\n      //addRelease: function(elem, title, artist, csrf)\n      //{\n      //    $.ajax({\n      //       url: '/admin/releases/addRelatedRelease',\n      //       type: 'POST',\n      //       data: {\n      //           release_id: vm.id,\n      //           related_release_id: elem.id,\n      //           _token: csrf\n      //       },\n      //       success: function(result)\n      //       {\n      //           vm.release.related_releases.push({\n      //               title: title,\n      //               artist: {name: artist},\n      //               id: result.id\n      //           });\n      //       }\n      //    });\n      //},\n      //deleteRelease: function(elem, csrf)\n      //{\n      //    vm.release.related_releases.$remove(elem);\n      //\n      //    $.ajax({\n      //       url: '/admin/releases/deleteRelatedRelease',\n      //       type: 'DELETE',\n      //       data: {\n      //           release_id: vm.id,\n      //           related_release_id: elem.id,\n      //           _token: csrf\n      //       }\n      //    });\n      //}\n   }\n\n});\n\nVue.filter('slugify', function (value) {\n   return value.replace(/ /g,'').toLowerCase();\n});\n\nvm.$watch('release.tracks', function() {}, {\n    deep: true\n})\n","$(document).ready(function() {\n    $('#artists').tokenize();\n    $('#datepicker').datepicker();\n    $('#golivepicker').datetimepicker({\n        timeFormat: 'HH:mm z'\n    });\n    CKEDITOR.replace('uk_press_release');\n    $('#chkAllTerrs').click(function(){\n        $('.chkterr').prop('checked', true);\n    });\n    $('#publish').click(function(e){\n        $('#is_live').val(1);\n    });\n    $('#save').click(function(e){\n        $('#is_live').val(0);\n    });\n    var release_id = $('#release_id').val();\n    var csrf_token = $('[name=_token]').val();\n    var addImage = function(elem, action, imgFolder, callback){\n\n        var callback = (typeof callback === 'undefined')\n            ? function(response) {\n            if ($(elem + '_img').length == 0) {\n                $(elem + '_div')\n                    .append('<img class=\"thumb\" id=\"'+elem.substring(1)+'_img\">');\n            }\n            $(elem + '_img')\n                .attr('src', 'http://cdn.beggars.com/fourad/site/images/releases/' + imgFolder + '/' + response);\n\n        }\n            : callback;\n\n        var the_file = $(elem).get(0).files[0];\n\n        if (the_file.size > 2000000)\n        {\n            alert('Max filesize: 2M');\n            return false;\n        }\n\n        var formData = new FormData();\n        formData.append('_token', csrf_token);\n        formData.append('photofile', the_file);\n        formData.append('release_id', release_id);\n        $.ajax({\n            url: '/admin/releases/'+action,\n            type: 'POST',\n            data: formData,\n            cache: false,\n            contentType: false,\n            processData: false,\n            success: callback\n        });\n    }\n    var addPackshot = function(){\n        return addImage('#packshot', 'addPackshot', 'packshots')\n    }\n    var addDesktopHeader = function(){\n        return addImage('#alt_desktop_header_image', 'addDesktopHeader', 'desktop_headers');\n    };\n    var addMobileHeader = function(){\n        return addImage('#alt_mobile_header_image', 'addMobileHeader', 'mobile_headers');\n    }\n    var addProductShot = function(){\n        return addImage('#productshot', 'addProductShot', 'product_shots', function() {\n            window.location.reload();\n        });\n    }\n    $('#addpackshot').click(addPackshot);\n    $('#adddesktopheader').click(addDesktopHeader);\n    $('#addmobileheader').click(addMobileHeader);\n    $('#addproductshot').click(addProductShot);\n\n    $('.deleteProductShot').click(function (e)\n    {\n        e.preventDefault();\n\n        var id = $(this).attr('id');\n        var url = $(this).attr('url');\n        console.log(\"id=\"+id+\";url=\"+url);\n\n        $('#productshotspan_'+id).hide();\n\n        $.ajax({\n            url: '/api/productshot_delete',\n            type: 'delete',\n            data: { productshot_id: id,\n                url: url,\n                _token: csrf_token },\n            success: function() {\n\n            }\n        });\n    });\n    $('.sortable').sortable({\n        cursor: 'move',\n        axis: 'y',\n        update: function (event, ui) {\n            var order = $(this).sortable('toArray');\n            $.post('/admin/releases/sort_tracks', { order: order,\n                release_id: $('#release_id').val(),\n                format_id: $('#track_format_id').val(),\n                _token: csrf_token\n            });\n        }\n    });\n    //$('#add_buylink').click(function() {\n    //    data = {\n    //        retailer: $('#retailer').val(),\n    //        link: $('#link').val(),\n    //        release_id: $('#release_id').val(),\n    //        _token: csrf_token\n    //    };\n    //    vm.addBuylink(data);\n    //});\n    //$('#add_track').click(function() {\n    //\n    //    if ( ! $('#track_format_id').val() )\n    //    {\n    //        alert('Choose a tracklist format using the dropdown first!');\n    //        return false;\n    //    }\n    //\n    //    data = {\n    //        title:      $('#track_title').val(),\n    //        release_id: vm.id,\n    //        format_id:  $('#track_format_id').val(),\n    //        _token:     csrf_token\n    //    }\n    //    vm.release.tracks.push(data);\n    //    vm.addTrack(data);\n    //});\n});\n"],"sourceRoot":"/source/"}